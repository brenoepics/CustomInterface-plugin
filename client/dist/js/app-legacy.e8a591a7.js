(function(){"use strict";var e={3503:function(e,n,t){var i=t(5957),o=(t(6992),t(8674),t(9601),t(7727),t(8309),t(6755),t(3087)),a=t(2833),s=t(2482),r=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,null,[{key:"Log",value:function(n){if(e.DebugMode){var t=new Date;console.log("["+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"] "+n)}}}]),e}();(0,s.Z)(r,"DebugMode",!0);var c=t(144),u=t(629),f=(0,a.Z)((function e(){(0,o.Z)(this,e),(0,s.Z)(this,"username",void 0),(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"look",void 0),this.username="",this.id=0,this.look=""})),l={user:new f,credits:0},d=!0,m={setUsername:function(e,n){e.user.username=n},setUser:function(e,n){e.user=n},setLook:function(e,n){e.user.look=n},setCredits:function(e,n){e.credits=n},setId:function(e,n){e.user.id=n}},h={namespaced:d,state:l,mutations:m},p=(t(1539),t(3948),{values:[],open:!1}),g=!0,v={setCommands:function(e,n){e.values=n},setOpen:function(e,n){e.open=n}},w={namespaced:g,state:p,mutations:v},y=(t(7658),t(561),{open:!1,playing:!1,playlist:[],currentIndex:0}),k=!0,Z={setOpen:function(e,n){e.open=n},setPlaying:function(e,n){e.playing=n},setPlaylist:function(e,n){e.playlist=n},addToPlaylist:function(e,n){e.playlist.push(n)},removeFromPlaylist:function(e,n){e.playlist.splice(n,1)},setCurrentIndex:function(e,n){e.currentIndex=n},incrementIndex:function(e){e.currentIndex++},decrementIndex:function(e){e.currentIndex--}},b={namespaced:k,state:y,mutations:Z},_=(t(1532),t(8783),(0,a.Z)((function e(n,t,i){(0,o.Z)(this,e),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"value",void 0),(0,s.Z)(this,"image",void 0),this.name=n,this.value=t,this.image=i}))),M={results:[],open:!1,audio:new Map,isSpinning:!1,won:!1,items:[new _("Lemon",3,"https://cdn4.iconfinder.com/data/icons/slot-machines/512/Lemon-512.png"),new _("Melon",8,"https://cdn4.iconfinder.com/data/icons/slot-machines/512/Watermelon-512.png"),new _("Grapes",10,"https://cdn4.iconfinder.com/data/icons/slot-machines/512/Grapes-512.png"),new _("Cherry",32,"https://cdn4.iconfinder.com/data/icons/slot-machines/512/Cherry-512.png"),new _("Bar",64,"https://cdn4.iconfinder.com/data/icons/casino-games/512/bar-512.png")],itemId:0,payout:0},I=!0,S={initAudio:function(e){e.audio.set("win",new Audio("https://freesound.org/data/previews/387/387232_1474204-lq.mp3")),e.audio.set("insertCoin",new Audio("https://freesound.org/data/previews/276/276091_5123851-lq.mp3")),e.audio.set("bigwin",new Audio("https://freesound.org/data/previews/270/270319_5123851-lq.mp3")),e.audio.set("spin",new Audio("https://freesound.org/data/previews/120/120373_824230-lq.mp3")),e.audio.set("spinEnd",new Audio("https://freesound.org/data/previews/145/145441_2615119-lq.mp3")),e.audio.set("lock",new Audio("https://freesound.org/data/previews/56/56246_91374-lq.mp3"))},setOpen:function(e,n){e.open=n},setSpinning:function(e,n){e.isSpinning=n},setWon:function(e,n){e.won=n},setResults:function(e,n){e.results=n},setItemId:function(e,n){e.itemId=n},setPayout:function(e,n){e.payout=n}},C={namespaced:I,state:M,mutations:S},O={open:!1,editMode:!1,videoId:"",itemId:0},x=!0,$={setOpen:function(e,n){e.open=n},setEditMode:function(e,n){e.editMode=n},setVideoId:function(e,n){e.videoId=n},setItemId:function(e,n){e.itemId=n}},E={namespaced:x,state:O,mutations:$},P={open:!1,channel:""},W=!0,L={setOpen:function(e,n){e.open=n},setChannel:function(e,n){e.channel=n}},F={namespaced:W,state:P,mutations:L},U={message:"Loading...",closesIn:Date.now(),open:!1},j=!0,A={setMessage:function(e,n){e.message=n},setClosesIn:function(e,n){var t=Date.now()+1e3*n;e.closesIn=t},setOpen:function(e,n){e.open=n}},D={namespaced:j,state:U,mutations:A};c.ZP.use(u.ZP);var T={state:{connected:!1},modules:{session:h,commands:w,jukebox:b,slotmachine:C,youtubeplayer:E,twitchplayer:F,rewards:D},mutations:{setConnected:function(e,n){e.connected=n}}},N=new u.ZP.Store(T),R=function(){var e=this,n=e._self._c;e._self._setupProxy;return n("div",{staticClass:"youtube-overlay",attrs:{id:"app"}},[n("transition",{attrs:{name:"slide-down"}},[e.rewards.open?n("ClaimRewardComponent"):e._e()],1)],1)},q=[],J=t(2417),B=t(3806),K=t(5744),H=(t(2222),t(655)),G=t(5904),V=t(176),z=function(){var e=this,n=e._self._c;e._self._setupProxy;return n("div",{staticClass:"habbo-reward-box"},[n("div",{staticClass:"habbo-message"},[e._v(e._s(e.rewards.message))]),n("div",{staticClass:"habbo-buttons"},[n("button",{staticClass:"habbo-button habbo-button-success",on:{click:function(n){return e.buttonClick(!0)}}},[e._v("Accept")]),n("button",{staticClass:"habbo-button",on:{click:function(n){return e.buttonClick(!1)}}},[e._v("Decline")])])])},Y=[],Q=(0,a.Z)((function e(n){(0,o.Z)(this,e),(0,s.Z)(this,"header","accept_reward"),(0,s.Z)(this,"data",void 0),this.data={accept:n}})),X=function(e){(0,B.Z)(t,e);var n=(0,K.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a)),(0,s.Z)((0,J.Z)(e),"rewards",void 0),e}return(0,a.Z)(t,[{key:"buttonClick",value:function(e){Fe.communicationManager.sendMessage(new Q(e)),this.$store.commit("rewards/setOpen",!1)}},{key:"mounted",value:function(){var e=this,n=this.rewards.closesIn,t=n-Date.now();t>0&&setTimeout((function(){e.$store.commit("rewards/setOpen",!1)}),t)}}]),t}(c.ZP);(0,H.gn)([(0,V.ZM)((function(e){return e.rewards}))],X.prototype,"rewards",void 0),X=(0,H.gn)([(0,G.ZP)({})],X);var ee=X,ne=ee,te=t(1001),ie=(0,te.Z)(ne,z,Y,!1,null,"554dc700",null),oe=ie.exports,ae=function(e){(0,B.Z)(t,e);var n=(0,K.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a)),(0,s.Z)((0,J.Z)(e),"rewards",void 0),e}return(0,a.Z)(t)}(c.ZP);(0,H.gn)([(0,V.ZM)((function(e){return e.rewards}))],ae.prototype,"rewards",void 0),ae=(0,H.gn)([(0,G.ZP)({components:{ClaimRewardComponent:oe}})],ae);var se,re=ae,ce=re,ue=(0,te.Z)(ce,R,q,!1,null,null,null),fe=ue.exports,le=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"_container",void 0),(0,s.Z)(this,"_bus",void 0),this._bus=new c.ZP,c.ZP.config.productionTip=!1,c.ZP.config.devtools=!0}return(0,a.Z)(e,[{key:"initInterface",value:function(){this._container=new c.ZP({store:N,render:function(e){return e(fe)}}).$mount("#app"),this.container.$store.commit("slotmachine/initAudio")}},{key:"container",get:function(){return this._container}},{key:"bus",get:function(){return this._bus}}]),e}();t(8862),t(4916),t(5306),t(1703);(function(e){e[e["WebSocket"]=0]="WebSocket",e[e["ExternalFlashInterface"]=1]="ExternalFlashInterface",e[e["IFrameExternalFlashInterface"]=2]="IFrameExternalFlashInterface"})(se||(se={}));var de,me=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("youtubeplayer/setOpen",!0),Fe.interfaceManager.container.$store.commit("youtubeplayer/setVideoId",e.videoId),Fe.interfaceManager.container.$store.commit("youtubeplayer/setItemId",e.itemId),Fe.interfaceManager.container.$store.commit("youtubeplayer/setEditMode",""==e.videoId)}}]),e}(),he=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("slotmachine/setItemId",e.itemId),Fe.interfaceManager.container.$store.commit("session/setCredits",e.credits),Fe.interfaceManager.container.$store.commit("slotmachine/setOpen",!0)}}]),e}(),pe=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("slotmachine/setResults",[e.result1,e.result2,e.result3]),Fe.interfaceManager.container.$store.commit("slotmachine/setWon",e.won),Fe.interfaceManager.container.$store.commit("slotmachine/setPayout",e.payout),Fe.interfaceManager.container.$store.commit("slotmachine/setSpinning",!0),Fe.interfaceManager.bus.$emit("results")}}]),e}(),ge=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("session/setCredits",e.credits),Fe.interfaceManager.container.$store.commit("session/setId",e.id),Fe.interfaceManager.container.$store.commit("session/setUsername",e.username),Fe.interfaceManager.container.$store.commit("session/setLook",e.look)}}]),e}(),ve=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("session/setCredits",e.credits)}}]),e}(),we=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("commands/setCommands",e.commands),Fe.interfaceManager.container.$store.commit("commands/setOpen",!0)}}]),e}(),ye=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("jukebox/setPlaylist",e.playlist),Fe.interfaceManager.container.$store.commit("jukebox/setOpen",!0)}}]),e}(),ke=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){var n=e.playing;Fe.interfaceManager.bus.$emit("play",n)}}]),e}(),Ze=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){var n=e.index;Fe.interfaceManager.bus.$emit("playSong",n)}}]),e}(),be=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("jukebox/setPlaylist",e.playlist)}}]),e}(),_e=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("jukebox/setPlaylist",[])}}]),e}(),Me=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){var n=e.song;Fe.interfaceManager.container.$store.commit("jukebox/addToPlaylist",n)}}]),e}(),Ie=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){var n=e.index;Fe.interfaceManager.bus.$emit("removeSong",n)}}]),e}(),Se=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){var n=e.videoId;""!=n&&(Fe.interfaceManager.container.$store.commit("twitchplayer/setChannel",n),Fe.interfaceManager.container.$store.commit("twitchplayer/setOpen",!0))}}]),e}(),Ce=(0,a.Z)((function e(){(0,o.Z)(this,e),(0,s.Z)(this,"header","pong"),(0,s.Z)(this,"data",void 0),this.data={message:""}})),Oe=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.communicationManager.sendMessage(new Ce)}}]),e}(),xe=(0,a.Z)((function e(n){(0,o.Z)(this,e),(0,s.Z)(this,"header","sso"),(0,s.Z)(this,"data",void 0),this.data={ticket:n}})),$e=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"parse",value:function(e){Fe.interfaceManager.container.$store.commit("rewards/setMessage",e.message),Fe.interfaceManager.container.$store.commit("rewards/setClosesIn",e.close),Fe.interfaceManager.container.$store.commit("rewards/setOpen",!0)}}]),e}(),Ee=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"_webSocket",void 0),(0,s.Z)(this,"_events",void 0),(0,s.Z)(this,"_mode",void 0),(0,s.Z)(this,"_sso",void 0),(0,s.Z)(this,"_wsUrl",void 0),this._events=new Map,this.registerMessages()}return(0,a.Z)(e,[{key:"registerMessages",value:function(){this._events.set("ping",new Oe),this._events.set("youtube_tv",new me),this._events.set("slot_machine",new he),this._events.set("slot_result",new pe),this._events.set("session_data",new ge),this._events.set("update_credits",new ve),this._events.set("commands",new we),this._events.set("jukebox_player",new ye),this._events.set("play_stop",new ke),this._events.set("play_song",new Ze),this._events.set("add_song",new Me),this._events.set("remove_song",new Ie),this._events.set("playlist",new be),this._events.set("dispose_playlist",new _e),this._events.set("twitch",new Se),this._events.set("reward_available",new $e)}},{key:"sendMessage",value:function(e){if(Fe.interfaceManager.container.$store.state.connected&&e)if(this._mode===se.WebSocket){if(!this._webSocket||this._webSocket.readyState!=WebSocket.OPEN)return;this._webSocket.send(JSON.stringify(e))}else if(this._mode===se.IFrameExternalFlashInterface){var n=document.getElementById("nitro");null!=n&&n.contentWindow?n.contentWindow.openroom(JSON.stringify(e)):window.openroom(JSON.stringify(e))}else{var t=document.querySelector("object, embed");t&&t.openroom(JSON.stringify(e))}}},{key:"onMessage",value:function(e){var n;n="string"===typeof e||e instanceof String?JSON.parse(e.replace(/&#47;/g,"/")):JSON.parse(e.data);var t=this._events.get(n.header);t?t.parse(n.data):r.Log(n)}},{key:"onOpen",value:function(){this._mode===se.WebSocket&&this._sso&&this.sendMessage(new xe(this._sso)),Fe.interfaceManager.container.$store.commit("setConnected",!0),r.Log("connected")}},{key:"onClose",value:function(){Fe.interfaceManager.container.$store.commit("setConnected",!1),r.Log("WebSocket closed")}},{key:"onError",value:function(e){r.Log("WebSocket Error")}},{key:"connectWebSocket",value:function(){if(!this._sso||!this._wsUrl)throw new Error("Cannot start websocket connection with undefined sso ticket or ws url");this._webSocket=new WebSocket(this._wsUrl),this._webSocket.onopen=this.onOpen,this._webSocket.onclose=this.onClose,this._webSocket.onmessage=this.onMessage,this._webSocket.onerror=this.onError}},{key:"events",get:function(){return this._events}},{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e}},{key:"wsUrl",set:function(e){this._wsUrl=e}},{key:"sso",set:function(e){this._sso=e}}]),e}();t(6699),t(2023);(function(e){e[e["Backspace"]=8]="Backspace",e[e["Tab"]=9]="Tab",e[e["Clear"]=12]="Clear",e[e["Enter"]=13]="Enter",e[e["Shift"]=16]="Shift",e[e["Control"]=17]="Control",e[e["Alt"]=18]="Alt",e[e["Esc"]=29]="Esc",e[e["Spacebar"]=32]="Spacebar",e[e["Left"]=37]="Left",e[e["Up"]=38]="Up",e[e["Right"]=39]="Right",e[e["Down"]=40]="Down"})(de||(de={}));var Pe=(0,a.Z)((function e(n){(0,o.Z)(this,e),(0,s.Z)(this,"header","move_avatar"),(0,s.Z)(this,"data",void 0),this.data={direction:n}})),We=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"enabled",void 0),(0,s.Z)(this,"keys",void 0),(0,s.Z)(this,"walking",void 0),(0,s.Z)(this,"_walkInterval",void 0),this.enabled=!0,this.walking=!1,this._walkInterval=null,document.addEventListener("keydown",this.OnKeyDown.bind(this)),document.addEventListener("keyup",this.OnKeyUp.bind(this)),this.keys=[de.Down,de.Left,de.Right,de.Up]}return(0,a.Z)(e,[{key:"OnKeyUp",value:function(e){var n=this;this.enabled&&this.keys.includes(e.keyCode)&&this.walking&&(this.walking=!1,this._walkInterval=setTimeout((function(){n.walking||Fe.communicationManager.sendMessage(new Pe("stop"))}),500))}},{key:"OnKeyDown",value:function(e){if(this.enabled&&this.keys.includes(e.keyCode)){this.walking=!0,clearTimeout(this._walkInterval);var n="";switch(e.keyCode){case de.Left:n="left";break;case de.Up:n="up";break;case de.Right:n="right";break;case de.Down:n="down";break;default:return}Fe.communicationManager.sendMessage(new Pe(n))}}}]),e}(),Le=function(){function e(){(0,o.Z)(this,e),(0,s.Z)(this,"_interactions",void 0),this._interactions=new Map,this.registerInteractions()}return(0,a.Z)(e,[{key:"registerInteractions",value:function(){this._interactions.set("movement",new We)}},{key:"interactions",get:function(){return this._interactions}}]),e}(),Fe=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,null,[{key:"init",value:function(){e._interfaceManager=new le,e._communicationManager=new Ee,e._interactionManager=new Le}},{key:"interfaceManager",get:function(){return e._interfaceManager}},{key:"communicationManager",get:function(){return e._communicationManager}},{key:"interactionManager",get:function(){return e._interactionManager}}]),e}();(0,s.Z)(Fe,"_interfaceManager",void 0),(0,s.Z)(Fe,"_communicationManager",void 0),(0,s.Z)(Fe,"_interactionManager",void 0),Fe.init(),Fe.interfaceManager.initInterface(),window.startYTOverlay=function(e,n){e&&n?(Fe.communicationManager.mode=se.WebSocket,Fe.communicationManager.wsUrl=n,Fe.communicationManager.sso=e):Fe.communicationManager.mode=se.ExternalFlashInterface,Ue(),r.Log("Started application with mode ".concat(Fe.communicationManager.mode))},window.connectWebSocket=function(){Fe.communicationManager.connectWebSocket()};var Ue=function(){window.FlashExternalInterface||(window.FlashExternalInterface={legacyTrack:function(e,n,t){},listPlugins:function(){return""},logEventLog:function(e){},track:function(e,n,t){},logDebug:function(e){},logWarn:function(e){},logCrash:function(e){},logError:function(e){},openPage:function(e){},openExternalLink:function(e){},openHabblet:function(e,n){},openWebPageAndMinimizeClient:function(e){}}),window.FlashExternalInterface.openHabblet=function(e,n){Fe.communicationManager.onMessage(e)},window.FlashExternalInterface.legacyTrack=function(e,n,t){"authentication"===e&&(Fe.communicationManager.mode===se.WebSocket?Fe.communicationManager.connectWebSocket():Fe.communicationManager.onOpen())},window.FlashExternalInterface.listPlugins=function(){for(var e="",n=0;n<navigator.plugins.length;n++)e+=navigator.plugins[n].name+"|";return e}};Ue();var je=document.getElementById("nitro");(NitroConfig||je)&&(Fe.communicationManager.mode=se.IFrameExternalFlashInterface,Fe.communicationManager.onOpen()),je&&je.contentWindow&&window.addEventListener("message",(function(e){if(je&&e.source===je.contentWindow){var n="Nitro_LegacyExternalInterface";if("string"===typeof e.data)if(e.data.startsWith(n)){var t=JSON.parse(e.data.substr(n.length)),o=t.method,a=t.params;if(!("FlashExternalInterface"in window))return;var s=window.FlashExternalInterface[o];if(!s)return;s.apply(void 0,(0,i.Z)(a))}else;}}))}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var a=n[i]={exports:{}};return e[i](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,i,o,a){if(!i){var s=1/0;for(f=0;f<e.length;f++){i=e[f][0],o=e[f][1],a=e[f][2];for(var r=!0,c=0;c<i.length;c++)(!1&a||s>=a)&&Object.keys(t.O).every((function(e){return t.O[e](i[c])}))?i.splice(c--,1):(r=!1,a<s&&(s=a));if(r){e.splice(f--,1);var u=o();void 0!==u&&(n=u)}}return n}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[i,o,a]}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var o,a,s=i[0],r=i[1],c=i[2],u=0;if(s.some((function(n){return 0!==e[n]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(c)var f=c(t)}for(n&&n(i);u<s.length;u++)a=s[u],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(f)},i=self["webpackChunkyoutube_overlay"]=self["webpackChunkyoutube_overlay"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(3503)}));i=t.O(i)})();
//# sourceMappingURL=app-legacy.e8a591a7.js.map